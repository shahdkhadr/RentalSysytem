# Bean

# Overview

- Bean is a key concept of the spring framework
- ما في جواب واضح تماماً يبسّط السؤال تبع
    - Whats the Spring Beans?

> *بعض الشرحات بتنزل لمستوى منخفض قوي لدرجة إن الصورة الكبيرة بتتفوت، في حين إن شروح تانية بتكون مبهمة قوي.*
> 

# Bean Definition

- **Bean:** It’s the object that form the backbone of your application
    - ( بتشكل العمود الفقري للتطبيق )
- Beans are managed by the Spring IoC Container

> ***“A Bean is an object that is instantiated, assembled, and managed by Spring IoC container ”***
> 

# Annotations

## **`@Configuration`**

- **it indicates that a class declares one or more `@Bean` methods**
    - These methods can be called by the Spring IoC Container to retrieve bean instances
- Example
    
    ```java
    @Configuration
    public class AppConfig {
    
        @Bean
        public MyService myService() {
            return new MyService();
        }
    
        @Bean
        public MyRepository myRepository() {
            return new MyRepository();
        }
    }
    ```
    

## **`@Component`**

- it’s Annotation marks a class as a Spring-managed component
- When the Spring container scans the classpath for components, it detects classes annotated with `@Component` and automatically registers them as beans in the application context.

## **`@ComponentScan()`**

- it’s automatically detects and registers Spring-managed components ( like beans ) in the application of context.

```java
@Configuration
@ComponentScan(basePackages = "com.example.company")
public class AppConfig {
    @Bean
    public Employee defaultEmployee() {
        return new Employee("Default Employee", "Default Department");
    }
}
```

- The `@ComponentScan(basePackages = "com.example.company")` annotation in your `AppConfig` class instructs the Spring IoC (Inversion of Control) Container to scan the specified package (`com.example.company`) and its sub-packages for components annotated with `@Component`, `@Service`, `@Repository`, and `@Controller`.

# Comparison among **`@Component`** & **`@Configuration`**

![image.png](Bean%20126f1472fabd800fb633f85956d70254/image.png)

# ApplicationContext

```java
ApplicationContext context = new AnnotationConfigApplicationContext(Config.class);
```

- It’s the **IoC Container in Spring** which is responsible for managing the lifecycle of beans
- `ApplicationContext` is a core interface for accessing Spring's container.
- **`AnnotationConfigApplicationContext`**  → This is a specific implementation of **`ApplicationContext`** used to load a **Java-based configuration class**
    - Instead of loading bean definitions from an XML file, it reads annotations (like `@Configuration`, `@Bean`, `@Component`) from the provided class
    - It’s take provided class as parameter
    - It's **specifically designed to work with Java configuration**, where beans are defined using annotations.
- **`Config.class`** is the **Java configuration class** **where your Spring beans are defined.**
    - This class is passed to `AnnotationConfigApplicationContext` to tell the IoC container to scan and manage the beans inside it.

# A quick test verifies the existence and the property values of our beans:

```java
Company company = context.getBean("company", Company.class);
assertEquals("High Street", company.getAddress().getStreet());
assertEquals(1000, company.getAddress().getNumber());
```